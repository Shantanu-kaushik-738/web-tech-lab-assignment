<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SmartWorld Mobile Shop | Dynamic</title>
    <style>
      :root {
        --primary-blue: #385170;
        --secondary-blue: #9fd3c7;
        --dark-blue: #142d4c;
        --bg-color: #ececec;
        --text-color: #2e2e2e;
        --card-bg: #ffffff;
      }

      .dark-theme {
        --bg-color: #121212;
        --text-color: #eaeaea;
        --card-bg: #1e1e1e;
        --primary-blue: #9fd3c7;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        background: var(--bg-color);
        color: var(--text-color);
        transition: background 0.3s, color 0.3s;
      }

      header {
        background: linear-gradient(90deg, #385170, #142d4c);
        color: white;
        text-align: center;
        padding: 40px 20px;
        position: relative;
      }

      #theme-toggle {
        position: absolute;
        top: 20px;
        right: 20px;
        padding: 10px 20px;
        cursor: pointer;
        border-radius: 5px;
        border: 1px solid white;
        background: transparent;
        color: white;
      }

      nav {
        background: var(--dark-blue);
        position: sticky;
        top: 0;
        z-index: 1000;
      }

      nav ul {
        display: flex;
        justify-content: center;
        list-style: none;
      }

      nav ul li a {
        color: white;
        text-decoration: none;
        padding: 15px 20px;
        display: block;
      }

      section {
        padding: 30px;
        margin: 20px auto;
        max-width: 1000px;
        background: var(--card-bg);
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      #searchBar {
        width: 100%;
        padding: 15px;
        margin-bottom: 25px;
        border: 2px solid var(--secondary-blue);
        border-radius: 8px;
        background: var(--card-bg);
        color: var(--text-color);
      }

      .product-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
      }

      .product-card {
        border: 1px solid #ddd;
        padding: 20px;
        border-radius: 8px;
        text-align: center;
        transition: transform 0.2s;
      }

      .product-card:hover {
        transform: translateY(-5px);
      }

      .price {
        font-weight: bold;
        color: var(--primary-blue);
        font-size: 1.2rem;
      }

      .buy-btn {
        background: var(--primary-blue);
        color: white;
        border: none;
        padding: 10px 20px;
        margin-top: 10px;
        border-radius: 5px;
        cursor: pointer;
        width: 100%;
      }

      .buy-btn:disabled {
        background: #ccc;
        cursor: not-allowed;
      }

      #api-content {
        font-style: italic;
        color: #666;
        margin-top: 10px;
      }

      footer {
        text-align: center;
        padding: 20px;
        background: var(--dark-blue);
        color: white;
      }
    </style>
  </head>
  <body>
    <header>
      <button id="theme-toggle">Change Mode ðŸŒ“</button>
      <h1>SmartWorld Mobile Shop</h1>
      <p>Cart Status: <strong id="cart-count">0</strong> items</p>
    </header>

    <nav>
      <ul>
        <li><a href="#about">About</a></li>
        <li><a href="#products">Products</a></li>
        <li><a href="#news">Store News</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </nav>

    <section id="about">
      <h2>About Us</h2>
      <p>Your premium destination for tech in Bhilai.</p>
      <p id="opening-status"></p>
    </section>

    <section id="products">
      <h2>Our Collection</h2>
      <input
        type="text"
        id="searchBar"
        placeholder="Search by model or brand..."
      />
      <div id="productContainer" class="product-grid"></div>
    </section>

    <section id="news">
      <h2>Latest Reviews (from API)</h2>
      <div id="api-data">Loading feedback...</div>
    </section>

    <section id="contact">
      <h2>Contact Us</h2>
      <form id="contactForm">
        <input type="text" id="userName" placeholder="Your Name" required />
        <input type="email" id="userEmail" placeholder="Your Email" required />
        <textarea
          id="userMsg"
          rows="4"
          placeholder="How can we help?"
          required
        ></textarea>
        <button type="submit" class="buy-btn">Submit Inquiry</button>
      </form>
    </section>

    <footer>
      <p>&copy; 2025 SmartWorld Mobile Shop</p>
    </footer>

    <script>
      const products = [
        {
          id: 1,
          name: "OnePlus 15R",
          price: 35000,
          specs: "8GB RAM, 128GB Storage",
          brand: "OnePlus",
        },
        {
          id: 2,
          name: "Samsung Galaxy A56",
          price: 28000,
          specs: "6GB RAM, 128GB Storage",
          brand: "Samsung",
        },
        {
          id: 3,
          name: "iPhone 16 Pro Max",
          price: 125000,
          specs: "256GB Storage, A18 Chip",
          brand: "Apple",
        },
        {
          id: 4,
          name: "Google Pixel 9",
          price: 75000,
          specs: "12GB RAM, Pure Android",
          brand: "Google",
        },
        {
          id: 5,
          name: "Redmi Note 14",
          price: 18000,
          specs: "5000mAh Battery, 5G",
          brand: "Xiaomi",
        },
      ];

      let cart = [];

      const productContainer = document.getElementById("productContainer");
      const searchBar = document.getElementById("searchBar");
      const cartDisplay = document.getElementById("cart-count");
      const themeBtn = document.getElementById("theme-toggle");

      const renderProducts = (items) => {
        productContainer.innerHTML = items
          .map(
            (product) => `
                <div class="product-card">
                    <h3>${product.name}</h3>
                    <p>${product.specs}</p>
                    <p class="price">â‚¹${product.price.toLocaleString(
                      "en-IN"
                    )}</p>
                    <button class="buy-btn" onclick="addToCart(${
                      product.id
                    })">Add to Cart</button>
                </div>
            `
          )
          .join("");
      };

      window.addToCart = (id) => {
        const product = products.find((p) => p.id === id);
        cart.push(product);
        cartDisplay.textContent = cart.length;
        alert(`${product.name} added to cart!`);
      };

      searchBar.addEventListener("input", (e) => {
        const term = e.target.value.toLowerCase();
        const filtered = products.filter(
          (p) =>
            p.name.toLowerCase().includes(term) ||
            p.brand.toLowerCase().includes(term)
        );
        renderProducts(filtered);
      });

      const fetchStoreNews = async () => {
        try {
          const response = await fetch(
            "https://jsonplaceholder.typicode.com/comments?_limit=3"
          );
          const data = await response.json();
          const newsHtml = data
            .map(
              (post) => `
                    <div style="margin-bottom: 15px; border-bottom: 1px solid #eee">
                        <strong>${post.email.toLowerCase()}:</strong>
                        <p>"${post.body.substring(0, 100)}..."</p>
                    </div>
                `
            )
            .join("");
          document.getElementById("api-data").innerHTML = newsHtml;
        } catch (error) {
          document.getElementById("api-data").textContent =
            "Failed to load reviews.";
        }
      };

      themeBtn.addEventListener("click", () =>
        document.body.classList.toggle("dark-theme")
      );

      const initShop = () => {
        const hour = new Date().getHours();
        const statusEl = document.getElementById("opening-status");
        const isOpen = hour >= 10 && hour < 21;

        statusEl.textContent = isOpen
          ? "â— Open Now (Closes 9 PM)"
          : "â—‹ Closed (Opens 10 AM)";
        statusEl.style.color = isOpen ? "green" : "red";

        renderProducts(products);
        fetchStoreNews();
      };

      document.getElementById("contactForm").addEventListener("submit", (e) => {
        e.preventDefault();
        const name = document.getElementById("userName").value;
        alert(`Thanks ${name}! We will contact you via email.`);
        e.target.reset();
      });

      initShop();
    </script>
  </body>
</html>
